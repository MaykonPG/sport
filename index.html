<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Painel Rolante de Notícias de Futebol</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #111;
      color: #fff;
      overflow: hidden;
    }
    #ticker {
      position: absolute;
      white-space: nowrap;
      will-change: transform;
      font-size: 2em;
      padding-left: 100%;
    }
  </style>
</head>
<body>
  <div id="ticker">Carregando notícias...</div>

  <script>
    const ticker = document.getElementById('ticker');

    async function carregarNoticias() {
      try {
        // Usando proxy público para evitar CORS (funciona no navegador)
        const proxy = 'https://api.allorigins.win/get?url=';
        const rssUrl = encodeURIComponent('https://www.espn.com.br/espn/rss/futebol.xml');
        const response = await fetch(proxy + rssUrl);
        const data = await response.json();

        // Converter XML do RSS em texto
        const parser = new DOMParser();
        const xmlDoc = parser.parseFromString(data.contents, "text/xml");
        const items = xmlDoc.querySelectorAll("item");
        const noticias = Array.from(items).map(item => item.querySelector("title").textContent);

        iniciarTicker(noticias);

      } catch (error) {
        ticker.textContent = "Erro ao carregar notícias.";
        console.error(error);
      }
    }

    function iniciarTicker(noticias) {
      let index = 0;

      function mostrarNoticia() {
        ticker.textContent = noticias[index];
        index = (index + 1) % noticias.length;
        ticker.style.transform = `translateX(${window.innerWidth}px)`;
        const largura = ticker.offsetWidth;
        let pos = window.innerWidth;

        function mover() {
          pos--;
          ticker.style.transform = `translateX(${pos}px)`;
          if (pos + largura > 0) {
            requestAnimationFrame(mover);
          } else {
            setTimeout(mostrarNoticia, 1000); // pausa antes da próxima notícia
          }
        }
        mover();
      }

      mostrarNoticia();
    }

    carregarNoticias();
  </script>
</body>
</html>
